
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Survey</title>

    <!-- Compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>
                            
    <!--Boostrap formating-->
    <div class="container">
        <br>
        <h2><b>Friend Finder Survey Questions</b></h1>
        <hr>
        <br>
        <h2></h2>
        <form>
            <h4><b>About You</b></h3>
            <h5>Name (Required)</h5>
            <!--Required user input to submit--> 
            <input type="text" id="name" name="allInput" class="form-control" required placeholder="Enter Name" required>
            <h5>Link to Photo Image (Required)</h5>
            <input type="text" id="photo" name="allInput" class="form-control" required placeholder="Provide Photo Link" required>
        </form>
        <hr>
    </div>

    <!--Ten survey questions with assigned values-->
    <div class="container">
        <br>
        <h4><b>Question 1</b></h4>
        <h5>Friendship requires commitment.</h5>
        <form>
        <div class="form-group">
            <select class="form-control" id="sel1" style="width:20%; font-size:85%">
            <option>Select an Option</option>    
            <option>1 (Strongly Disagree)</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5 (Strongly Agree)</option>
        </div>        
        </select>
        <br>

        <h4><b>Question 2</b></h4>
        <h5>Humor is an appealing trait.</h5>
        <form>
        <div class="form-group">
            <select class="form-control" id="sel2" style="width:20%; font-size:85%">
            <option>Select an Option</option>    
            <option value=1>1 (Strongly Disagree)</option>
            <option value=2>2</option>
            <option value=3>3</option>
            <option value=4>4</option>
            <option value=5>5 (Strongly Agree)</option>
        </div>        
        </select>
        <br>

        <h4><b>Question 3</b></h4>
        <h5>Sandals are semi-formal wear.</h5>
        <form>
        <div class="form-group">
            <select class="form-control" id="sel3" style="width:20%; font-size:85%">
            <option>Select an Option</option>    
            <option value=1>1 (Strongly Disagree)</option>
            <option value=2>2</option>
            <option value=3>3</option>
            <option value=4>4</option>
            <option value=5>5 (Strongly Agree)</option>
        </div>        
        </select>
        <br>

        <h4><b>Question 4</b></h4>
        <h5>Family relationshiops are a top priority.</h5>
        <form>
        <div class="form-group">
            <select class="form-control" id="sel4" style="width:20%; font-size:85%">
            <option>Select an Option</option>  
            <option value=1>1 (Strongly Disagree)</option>
            <option value=2>2</option>
            <option value=3>3</option>
            <option value=4>4</option>
            <option value=5>5 (Strongly Agree)</option>
        </div>        
        </select>
        <br>

        <h4><b>Question 5</b></h4>
        <h5>Outdoor activites over indoor activities.</h5>
        <form>
        <div class="form-group">
            <select class="form-control" id="sel5" style="width:20%; font-size:85%">
            <option>Select an Option</option>    
            <option value=1>1 (Strongly Disagree)</option>
            <option value=2>2</option>
            <option value=3>3</option>
            <option value=4>4</option>
            <option value=5>5 (Strongly Agree)</option>
        </div>        
        </select>
        <br>

        <br>
        <h4><b>Question 6</b></h4>
        <h5>I enjoy having pets around.</h5>
        <form>
        <div class="form-group">
            <select class="form-control" id="sel6" style="width:20%; font-size:85%">
            <option>Select an Option</option>    
            <option value=1>1 (Strongly Disagree)</option>
            <option value=2>2</option>
            <option value=3>3</option>
            <option value=4>4</option>
            <option value=5>5 (Strongly Agree)</option>
        </div>        
        </select>
        <br>

        <h4><b>Question 7</b></h4>
        <h5>No dream is too big.</h5>
        <form>
        <div class="form-group">
            <select class="form-control" id="sel6" style="width:20%; font-size:85%">
            <option>Select an Option</option>    
            <option value=1>1 (Strongly Disagree)</option>
            <option value=2>2</option>
            <option value=3>3</option>
            <option value=4>4</option>
            <option value=5>5 (Strongly Agree)</option>
        </div>        
        </select>
        <br>

        <h4><b>Question 8</b></h4>
        <h5>Curiosity killed the cat.</h5>
        <form>
        <div class="form-group">
            <select class="form-control" id="sel8" style="width:20%; font-size:85%">
            <option>Select an Option</option>    
            <option value=1>1 (Strongly Disagree)</option>
            <option value=2>2</option>
            <option value=3>3</option>
            <option value=4>4</option>
            <option value=5>5 (Strongly Agree)</option>
        </div>        
        </select>
        <br>

        <h4><b>Question 9</b></h4>
        <h5>Science fiction movies are more engaging than drama movies</h5>
        <form>
        <div class="form-group">
            <select class="form-control" id="sel9" style="width:20%; font-size:85%">
            <option>Select an Option</option>  
            <option value=1>1 (Strongly Disagree)</option>
            <option value=2>2</option>
            <option value=3>3</option>
            <option value=4>4</option>
            <option value=5>5 (Strongly Agree)</option>
        </div>        
        </select>
        <br>

        <h4><b>Question 10</b></h4>
        <h5>When it comes to football, more college rather than professional is better.</h5>
        <form>
        <div class="form-group">
            <select class="form-control" id="sel10" style="width:20%; font-size:85%">
            <option>Select an Option</option>    
            <option value=1>1 (Strongly Disagree)</option>
            <option value=2>2</option>
            <option value=3>3</option>
            <option value=4>4</option>
            <option value=5>5 (Strongly Agree)</option>
        </div>        
        </select>
    </div>

    
    <!--Survey submit button-->      
    <button type="submit" class="btn btn-primary btn-lg btn-block" id="submitSurvey"><span class="fa fa-telegram"></span> Submit</button>
    <hr>

    <!--User input confirm to ensure survey fields are filled so that required data is available to do match comparisons-->

    <!--Links to friends API information at Heroku server and Github page--> 
    <footer class="footer">  
        <div class="container">
            <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/abraham0201gh/Friend-Finder/">Github Repository</a>
        </div>
    </footer>


    <!--Display with final survey click submit-->
    <!-- Button trigger modal 
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
        Launch demo modal
    </button> 
    -->

    <!--Modal pop-up displaying new friend (best match) name and photo-->  
    <div class="modal" tabindex="-1" role="dialog" id="modalDisplay">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Your Best Match</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Say Hello to: <span id="yourMatch"></span></p>
                    <image id="matchImage" src=""></image>  
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <!--<button type="button" class="btn btn-primary">Save changes</button>-->
                </div>
                </div>
           </div>
    </div>

    <!--For Test/Adjustment-->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script type = "text/javascript">

        // Creating new user profile.  Capture user input by creating the userInput object. Prevents default button submission prior to data capture. 
    $("#submitSurvey").on("click", function(event) {

        event.preventDefault();
        var userInput = {
            name: $("#name").val().trim(),
            photo: $("#photo").val().trim(),
            scores: [
                $("#sel1").val(),
                $("#sel2").val(),
                $("#sel3").val(),
                $("#sel4").val(),
                $("#sel5").val(),
                $("#sel6").val(),
                $("#sel7").val(),
                $("#sel8").val(),
                $("#sel9").val(),
                $("#sel10").val()
            ]
        }
        // Post user input to the server
        $.post("/api/friends", userInput, function(data){
            console.log("friends.js", data);
            //Display match name and photo
            $("#yourMatch").text(data.name);
            $("#matchImage").attr("src", data.photo);
            //Diplay modal with match information
            $("#modalDisplay").modal(toggle);
        });  
    });
        
    // Clear input data after submit clicked so user knows input accepted.

    </script>
 
</body>

</html>
        
